## 1. 全局状态与主题
- [ ] 1.1 使用 zustand 初始化轻量 store（auth/ui/closet），实现 localStorage hydrate。
- [ ] 1.2 实现 token/主题/偏好/衣物列表的读写 API，统一来源并持久化。

## 2. UI 基建与路由懒加载
- [ ] 2.1 封装 Loading/Empty/ErrorBanner/ConfirmDialog/Skeleton 组件（支持重试/取消）。
- [ ] 2.2 路由懒加载 fallback 接入骨架屏，验证首屏不白屏。

## 3. Outfit/Home 列表体验
- [ ] 3.1 搜索输入去抖（可配置），列表 loading/空态/错误提示与重试。
- [ ] 3.2 Outfit 列表分页/无限滚动；Home 天气/标签接口或配置驱动并降级。

## 4. 深色模式
- [ ] 4.1 主题切换写入 store + localStorage，同步 html data-theme。
- [ ] 4.2 刷新后恢复主题状态并校验路由/组件读取一致。

## 5. 上传可靠性
- [ ] 5.1 文件大小/类型校验，压缩参数可配置；超时/重试/取消上传。
- [ ] 5.2 错误文案与进度反馈，异常分支可重试或取消。

## 6. AiChat SSE 弹性
- [ ] 6.1 SSE 断线指数退避重连，提供“停止生成”按钮。
- [ ] 6.2 错误占位与重试；连接中阻止重复请求或合并。

## 7. 验证
- [ ] 7.1 `npm run lint`
- [ ] 7.2 手工冒烟：列表搜索/分页正常与异常、主题持久化、上传重试/取消、SSE 断线重连与停止。