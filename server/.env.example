# Server
PORT=3000
LOG_LEVEL=info
JWT_SECRET=lzy

# Database
DB_HOST=localhost
DB_USER=root
DB_PASSWORD=your_password
DB_NAME=aiclothes_db
DB_PORT=3306

# Weather (optional)
# Provider: open-meteo | mock
WEATHER_PROVIDER=open-meteo
WEATHER_CITY=上海
WEATHER_LAT=31.2304
WEATHER_LON=121.4737
WEATHER_TAGS=热门,推荐,新品,精�?WEATHER_TIMEOUT_MS=8000
WEATHER_CACHE_TTL_MS=600000
WEATHER_FALLBACK_TEMP=25�?WEATHER_FALLBACK_TEXT=多云

# Reverse Geocoding (optional, for showing city name from lat/lon)
GEOCODE_ENABLED=true
GEOCODE_PROVIDER=bigdatacloud
GEOCODE_TIMEOUT_MS=4000
GEOCODE_CACHE_TTL_MS=86400000
GEOCODE_MIN_INTERVAL_MS=1100
GEOCODE_USER_AGENT=aiclothes-dev/1.0

# DeepSeek LLM
DEEPSEEK_API_KEY=your_deepseek_api_key
DEEPSEEK_BASE_URL=https://api.deepseek.com
DEEPSEEK_CHAT_MODEL=deepseek-chat
DEEPSEEK_PLANNER_MODEL=deepseek-chat
DEEPSEEK_TIMEOUT_MS=120000
DEEPSEEK_PLANNER_TIMEOUT_MS=15000
DEEPSEEK_MAX_HISTORY_MESSAGES=20
DEEPSEEK_SCENE_TIMEOUT_MS=8000
DEEPSEEK_BREAKER_FAILURE_THRESHOLD=3
DEEPSEEK_BREAKER_COOLDOWN_MS=60000
DEEPSEEK_SCENE_BREAKER_FAILURE_THRESHOLD=3
DEEPSEEK_SCENE_BREAKER_COOLDOWN_MS=60000

# Chat Input Limits (SSE)
CHAT_MAX_INPUT_MESSAGES=30
CHAT_MAX_INPUT_CHARS=12000
CHAT_MAX_SINGLE_MESSAGE_CHARS=4000
CHAT_SSE_HEARTBEAT_MS=15000

# Coze Workflows (optional, for analyze/genPreview)
COZE_PAT_TOKEN=your_coze_pat_token
COZE_WORKFLOW_ID=your_workflow_id
COZE_WORKFLOW2_ID=your_workflow2_id
COZE_WORKFLOW3_ID=your_workflow3_id
COZE_TIMEOUT_MS=60000
COZE_BREAKER_FAILURE_THRESHOLD=3
COZE_BREAKER_COOLDOWN_MS=60000

# Rate Limit (in-memory, per user/ip)
RATE_LIMIT_ENABLED=1
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX=120
RATE_LIMIT_CHAT_MAX=30
RATE_LIMIT_GENERATE_MAX=20
RATE_LIMIT_ANALYZE_MAX=10

# Clothes
CLOTHES_TOP_TYPE_KEYWORDS=上衣,衬衫,外套
CLOTHES_BOTTOM_TYPE_KEYWORDS=下衣,长裤,半身
CLOTHES_EXPORT_MAX_BYTES=4194304
CLOTHES_IMPORT_MAX_ITEMS=100
CLOTHES_IMPORT_MAX_ITEMS_WITH_IMAGES=5

